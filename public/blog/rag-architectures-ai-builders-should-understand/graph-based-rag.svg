<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="640" viewBox="0 0 1200 640" role="img" aria-label="Graph-based RAG diagram: retrieve entities and traverse relations">
  <defs>
    <linearGradient id="panel" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#0b1220"/>
      <stop offset="1" stop-color="#111827"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="18" stdDeviation="16" flood-color="#000" flood-opacity="0.55"/>
    </filter>
    <marker id="arrow" markerWidth="6" markerHeight="6" refX="6" refY="3" orient="auto" markerUnits="userSpaceOnUse">
      <path d="M0,0 L6,3 L0,6 Z" fill="#fbbf24"/>
    </marker>
  </defs>

  <rect x="40" y="40" width="1120" height="560" rx="28" fill="url(#panel)" stroke="#334155" filter="url(#shadow)"/>

  <text x="100" y="98" fill="#e2e8f0" font-size="22" font-weight="900"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    Graph‑Based RAG: retrieve by relations, not just similarity
  </text>
  <text x="100" y="128" fill="#94a3b8" font-size="14" font-weight="650"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    Find seed entities → traverse edges → collect a supporting subgraph → answer with a chain of evidence.
  </text>

  <!-- Nodes -->
  <g font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    <!-- Seed -->
    <rect x="120" y="230" width="220" height="92" rx="18" fill="#0f172a" stroke="#22d3ee" stroke-opacity="0.55"/>
    <text x="230" y="265" fill="#e2e8f0" font-size="15" font-weight="900" text-anchor="middle">Seed entity</text>
    <text x="230" y="288" fill="#94a3b8" font-size="12" font-weight="650" text-anchor="middle">“Service A”</text>

    <!-- Graph -->
    <rect x="420" y="170" width="420" height="270" rx="22" fill="#0b1220" stroke="#334155"/>
    <text x="440" y="206" fill="#e2e8f0" font-size="13" font-weight="900">Knowledge graph</text>
    <text x="440" y="228" fill="#94a3b8" font-size="12" font-weight="650">entities + relations</text>

    <!-- Subgraph -->
    <rect x="900" y="230" width="220" height="92" rx="18" fill="#0f172a" stroke="#22c55e" stroke-opacity="0.55"/>
    <text x="1010" y="265" fill="#e2e8f0" font-size="15" font-weight="900" text-anchor="middle">Evidence subgraph</text>
    <text x="1010" y="288" fill="#94a3b8" font-size="12" font-weight="650" text-anchor="middle">supporting facts</text>
  </g>

  <!-- inside graph: mini network -->
  <g>
    <!-- nodes -->
    <circle cx="520" cy="300" r="18" fill="#0f172a" stroke="#60a5fa" stroke-width="2"/>
    <circle cx="640" cy="245" r="18" fill="#0f172a" stroke="#a78bfa" stroke-width="2"/>
    <circle cx="720" cy="330" r="18" fill="#0f172a" stroke="#34d399" stroke-width="2"/>
    <circle cx="610" cy="360" r="18" fill="#0f172a" stroke="#fbbf24" stroke-width="2"/>
    <circle cx="760" cy="250" r="18" fill="#0f172a" stroke="#f97316" stroke-width="2"/>

    <!-- edges -->
    <path d="M538 300 L622 252" stroke="#334155" stroke-width="2"/>
    <path d="M658 245 L742 250" stroke="#334155" stroke-width="2"/>
    <path d="M640 263 L710 318" stroke="#334155" stroke-width="2"/>
    <path d="M520 318 L595 350" stroke="#334155" stroke-width="2"/>
    <path d="M628 360 L702 336" stroke="#334155" stroke-width="2"/>

    <!-- edge labels -->
    <text x="575" y="268" fill="#94a3b8" font-size="11" font-weight="700"
          font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">depends_on</text>
    <text x="680" y="238" fill="#94a3b8" font-size="11" font-weight="700"
          font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">owned_by</text>
    <text x="650" y="312" fill="#94a3b8" font-size="11" font-weight="700"
          font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">cites</text>
  </g>

  <!-- arrows -->
  <path d="M340 276 H410" stroke="#fbbf24" stroke-width="1.5" stroke-dasharray="1 3" stroke-dashoffset="1" stroke-linecap="round" fill="none" marker-end="url(#arrow)"/>
  <path d="M840 276 H890" stroke="#fbbf24" stroke-width="1.5" stroke-dasharray="1 3" stroke-dashoffset="1" stroke-linecap="round" fill="none" marker-end="url(#arrow)"/>

  <!-- Answer box -->
  <g font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    <rect x="900" y="360" width="220" height="110" rx="18" fill="#0b1220" stroke="#fbbf24" stroke-opacity="0.65"/>
    <text x="1010" y="396" fill="#e2e8f0" font-size="14" font-weight="900" text-anchor="middle">Answer</text>
    <text x="1010" y="418" fill="#94a3b8" font-size="12" font-weight="650" text-anchor="middle">with a reasoning chain</text>
    <rect x="930" y="438" width="160" height="10" rx="5" fill="#334155"/>
    <rect x="930" y="458" width="190" height="10" rx="5" fill="#334155"/>
  </g>
</svg>


