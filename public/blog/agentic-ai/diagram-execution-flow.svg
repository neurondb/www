<?xml version='1.0' encoding='utf-8'?>
<ns0:svg xmlns:ns0="http://www.w3.org/2000/svg" width="1000" height="500" viewBox="0 0 1000 500">
  <ns0:defs>
    <ns0:linearGradient id="boxGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <ns0:stop offset="0%" style="stop-color:#1e293b;stop-opacity:1" />
      <ns0:stop offset="100%" style="stop-color:#0f172a;stop-opacity:1" />
    </ns0:linearGradient>
    <ns0:linearGradient id="cyanGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <ns0:stop offset="0%" style="stop-color:#06b6d4;stop-opacity:0.3" />
      <ns0:stop offset="100%" style="stop-color:#0891b2;stop-opacity:0.2" />
    </ns0:linearGradient>
    <ns0:filter id="glow">
      <ns0:feGaussianBlur stdDeviation="3" result="coloredBlur" />
      <ns0:feMerge>
        <ns0:feMergeNode in="coloredBlur" />
        <ns0:feMergeNode in="SourceGraphic" />
      </ns0:feMerge>
    </ns0:filter>
    <ns0:marker id="arrowhead" markerWidth="8" markerHeight="8" refX="8" refY="4" orient="auto">
      <ns0:polygon points="0 0, 8 4, 0 8" fill="#06b6d4" />
    </ns0:marker>
  </ns0:defs>

  

  <ns0:text x="500" y="40" font-family="system-ui, sans-serif" font-size="24" font-weight="bold" fill="#e5e7eb" text-anchor="middle">
    Agent Execution Flow
  </ns0:text>

  

  <ns0:g id="user" transform="translate(40, 100)">
    <ns0:rect x="0" y="0" width="160" height="100" rx="8" fill="url(#boxGrad)" stroke="#06b6d4" stroke-width="2" filter="url(#glow)" />
    <ns0:rect x="5" y="5" width="150" height="90" rx="6" fill="url(#cyanGrad)" />
    <ns0:text x="80" y="40" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">
      User
    </ns0:text>
    <ns0:text x="80" y="65" font-family="system-ui, sans-serif" font-size="14" fill="#cbd5e1" text-anchor="middle">
      Sends request
    </ns0:text>
  </ns0:g>

  

  <ns0:g id="runtime" transform="translate(240, 100)">
    <ns0:rect x="0" y="0" width="160" height="100" rx="8" fill="url(#boxGrad)" stroke="#06b6d4" stroke-width="2" filter="url(#glow)" />
    <ns0:rect x="5" y="5" width="150" height="90" rx="6" fill="url(#cyanGrad)" />
    <ns0:text x="80" y="35" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">
      Agent runtime
    </ns0:text>
    <ns0:text x="80" y="58" font-family="system-ui, sans-serif" font-size="14" fill="#cbd5e1" text-anchor="middle">
      Orchestrates components
    </ns0:text>
    <ns0:circle cx="80" cy="82" r="4" fill="#06b6d4" />
  </ns0:g>

  

  <ns0:g id="planner" transform="translate(440, 100)">
    <ns0:rect x="0" y="0" width="160" height="100" rx="8" fill="url(#boxGrad)" stroke="#06b6d4" stroke-width="2" filter="url(#glow)" />
    <ns0:rect x="5" y="5" width="150" height="90" rx="6" fill="url(#cyanGrad)" />
    <ns0:text x="80" y="35" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">
      Planner
    </ns0:text>
    <ns0:text x="80" y="58" font-family="system-ui, sans-serif" font-size="14" fill="#cbd5e1" text-anchor="middle">
      Builds execution plan
    </ns0:text>
    <ns0:circle cx="80" cy="82" r="4" fill="#06b6d4" />
  </ns0:g>

  

  <ns0:g id="executor" transform="translate(640, 100)">
    <ns0:rect x="0" y="0" width="160" height="100" rx="8" fill="url(#boxGrad)" stroke="#06b6d4" stroke-width="2" filter="url(#glow)" />
    <ns0:rect x="5" y="5" width="150" height="90" rx="6" fill="url(#cyanGrad)" />
    <ns0:text x="80" y="32" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">
      Tool executor
    </ns0:text>
    <ns0:text x="80" y="55" font-family="system-ui, sans-serif" font-size="14" fill="#cbd5e1" text-anchor="middle">
      Calls tools, APIs,
    </ns0:text>
    <ns0:text x="80" y="72" font-family="system-ui, sans-serif" font-size="14" fill="#cbd5e1" text-anchor="middle">
      handles errors
    </ns0:text>
    <ns0:circle cx="80" cy="82" r="4" fill="#06b6d4" />
  </ns0:g>

  

  <ns0:g id="memory" transform="translate(840, 100)">
    <ns0:rect x="0" y="0" width="160" height="100" rx="8" fill="url(#boxGrad)" stroke="#06b6d4" stroke-width="2" filter="url(#glow)" />
    <ns0:rect x="5" y="5" width="150" height="90" rx="6" fill="url(#cyanGrad)" />
    <ns0:text x="80" y="32" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">
      Memory
    </ns0:text>
    <ns0:text x="80" y="55" font-family="system-ui, sans-serif" font-size="14" fill="#cbd5e1" text-anchor="middle">
      Stores user and
    </ns0:text>
    <ns0:text x="80" y="72" font-family="system-ui, sans-serif" font-size="14" fill="#cbd5e1" text-anchor="middle">
      task context
    </ns0:text>
    <ns0:circle cx="80" cy="82" r="4" fill="#06b6d4" />
  </ns0:g>

  

  <ns0:g id="state" transform="translate(240, 280)">
    <ns0:rect x="0" y="0" width="160" height="100" rx="8" fill="url(#boxGrad)" stroke="#10b981" stroke-width="2" filter="url(#glow)" />
    <ns0:rect x="5" y="5" width="150" height="90" rx="6" fill="#022c22" />
    <ns0:text x="80" y="32" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#a7f3d0" text-anchor="middle">
      State machine
    </ns0:text>
    <ns0:text x="80" y="55" font-family="system-ui, sans-serif" font-size="14" fill="#a7f3d0" text-anchor="middle">
      Tracks progress
    </ns0:text>
    <ns0:text x="80" y="72" font-family="system-ui, sans-serif" font-size="14" fill="#a7f3d0" text-anchor="middle">
      and status
    </ns0:text>
  </ns0:g>

  

  <ns0:g id="response" transform="translate(440, 280)">
    <ns0:rect x="0" y="0" width="160" height="100" rx="8" fill="url(#boxGrad)" stroke="#10b981" stroke-width="2" filter="url(#glow)" />
    <ns0:rect x="5" y="5" width="150" height="90" rx="6" fill="#022c22" />
    <ns0:text x="80" y="35" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#a7f3d0" text-anchor="middle">
      Response
    </ns0:text>
    <ns0:text x="80" y="58" font-family="system-ui, sans-serif" font-size="14" fill="#a7f3d0" text-anchor="middle">
      Final answer
    </ns0:text>
  </ns0:g>

  

  <ns0:g id="user-output" transform="translate(640, 280)">
    <ns0:rect x="0" y="0" width="160" height="100" rx="8" fill="url(#boxGrad)" stroke="#10b981" stroke-width="2" filter="url(#glow)" />
    <ns0:rect x="5" y="5" width="150" height="90" rx="6" fill="#022c22" />
    <ns0:text x="80" y="32" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#a7f3d0" text-anchor="middle">
      User output
    </ns0:text>
    <ns0:text x="80" y="55" font-family="system-ui, sans-serif" font-size="14" fill="#a7f3d0" text-anchor="middle">
      Shown in UI
    </ns0:text>
  </ns0:g>

  

  <ns0:path d="M 200 150 H 240" fill="none" stroke="#06b6d4" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.8" />
  <ns0:path d="M 400 150 H 440" fill="none" stroke="#06b6d4" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.8" />
  <ns0:path d="M 600 150 H 640" fill="none" stroke="#06b6d4" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.8" />
  <ns0:path d="M 800 150 H 840" fill="none" stroke="#06b6d4" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.8" />

  

  <ns0:path d="M 720.0 200.0 V 240.0 H 520.0 V 280.0" fill="none" stroke="#06b6d4" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#arrowhead)" opacity="0.8" />
  <ns0:path d="M 920.0 200.0 V 240.0 H 520.0 V 280.0" fill="none" stroke="#06b6d4" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#arrowhead)" opacity="0.8" />

  

  <ns0:path d="M 600 330 H 640" fill="none" stroke="#10b981" stroke-width="2" marker-end="url(#arrowhead)" opacity="0.9" />
</ns0:svg>