<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="700" viewBox="0 0 1200 700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bgHITL" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#020617;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:#0f172a;stop-opacity:1"/>
    </linearGradient>
    <linearGradient id="agentGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1;stop-opacity:0.4"/>
      <stop offset="100%" style="stop-color:#4f46e5;stop-opacity:0.4"/>
    </linearGradient>
    <linearGradient id="approvalGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:0.5"/>
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:0.5"/>
    </linearGradient>
    <marker id="arrowHITL" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#60a5fa"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="700" fill="url(#bgHITL)"/>
  <rect x="40" y="40" width="1120" height="620" rx="8" fill="#0f172a" opacity="0.8" stroke="#1e293b" stroke-width="1"/>
  
  <!-- Title -->
  <text x="600" y="80" font-family="Arial, sans-serif" font-size="32" fill="#f1f5f9" text-anchor="middle" font-weight="bold">HITL Workflow Architecture</text>
  
  <!-- Start -->
  <circle cx="140" cy="200" r="30" fill="#10b981" opacity="0.8"/>
  <text x="140" y="207" font-family="Arial, sans-serif" font-size="16" fill="#020617" text-anchor="middle" font-weight="bold">Start</text>
  
  <!-- Step 1: Agent Step -->
  <rect x="220" y="170" width="160" height="60" rx="8" fill="url(#agentGrad)" stroke="#818cf8" stroke-width="2"/>
  <text x="300" y="195" font-family="Arial, sans-serif" font-size="16" fill="#f1f5f9" text-anchor="middle" font-weight="bold">Agent Step</text>
  <text x="300" y="215" font-family="Arial, sans-serif" font-size="12" fill="#cbd5e1" text-anchor="middle">Analyze Content</text>
  
  <!-- Arrow 1 -->
  <line x1="380" y1="200" x2="440" y2="200" stroke="#60a5fa" stroke-width="4" marker-end="url(#arrowHITL)"/>
  
  <!-- Step 2: Conditional -->
  <polygon points="460,170 540,200 460,230" fill="#6366f1" opacity="0.4" stroke="#818cf8" stroke-width="2"/>
  <text x="500" y="197" font-family="Arial, sans-serif" font-size="14" fill="#f1f5f9" text-anchor="middle" font-weight="bold">Check</text>
  <text x="500" y="212" font-family="Arial, sans-serif" font-size="11" fill="#cbd5e1" text-anchor="middle">Threshold</text>
  
  <!-- Arrow 2 (down to Approval) -->
  <line x1="500" y1="230" x2="500" y2="290" stroke="#f59e0b" stroke-width="4" marker-end="url(#arrowHITL)"/>
  <text x="520" y="260" font-family="Arial, sans-serif" font-size="12" fill="#f59e0b" font-weight="bold">High Risk</text>
  
  <!-- Step 3: Approval Step -->
  <rect x="420" y="310" width="160" height="80" rx="8" fill="url(#approvalGrad)" stroke="#fbbf24" stroke-width="2"/>
  <text x="500" y="335" font-family="Arial, sans-serif" font-size="16" fill="#f1f5f9" text-anchor="middle" font-weight="bold">Approval Step</text>
  <text x="500" y="355" font-family="Arial, sans-serif" font-size="12" fill="#fde68a" text-anchor="middle">Request Human</text>
  <text x="500" y="375" font-family="Arial, sans-serif" font-size="12" fill="#fde68a" text-anchor="middle">Review</text>
  
  <!-- Human icon/circle -->
  <circle cx="620" cy="350" r="25" fill="#f59e0b" opacity="0.4"/>
  <text x="620" y="357" font-family="Arial, sans-serif" font-size="16" fill="#fde68a" text-anchor="middle" font-weight="bold">H</text>
  <line x1="580" y1="350" x2="595" y2="350" stroke="#fbbf24" stroke-width="2"/>
  
  <!-- Arrow 3 (from human) -->
  <line x1="645" y1="350" x2="700" y2="350" stroke="#60a5fa" stroke-width="4" marker-end="url(#arrowHITL)"/>
  
  <!-- Step 4: Agent Step (after approval) -->
  <rect x="720" y="310" width="160" height="80" rx="8" fill="url(#agentGrad)" stroke="#818cf8" stroke-width="2"/>
  <text x="800" y="335" font-family="Arial, sans-serif" font-size="16" fill="#f1f5f9" text-anchor="middle" font-weight="bold">Agent Step</text>
  <text x="800" y="355" font-family="Arial, sans-serif" font-size="12" fill="#cbd5e1" text-anchor="middle">Publish</text>
  <text x="800" y="375" font-family="Arial, sans-serif" font-size="12" fill="#cbd5e1" text-anchor="middle">Content</text>
  
  <!-- Arrow from Conditional (low risk path) -->
  <line x1="540" y1="200" x2="600" y2="200" stroke="#60a5fa" stroke-width="4" marker-end="url(#arrowHITL)"/>
  <text x="570" y="190" font-family="Arial, sans-serif" font-size="12" fill="#10b981" font-weight="bold">Low Risk</text>
  
  <!-- Auto-approve path -->
  <rect x="620" y="170" width="160" height="60" rx="8" fill="url(#agentGrad)" stroke="#818cf8" stroke-width="2"/>
  <text x="700" y="195" font-family="Arial, sans-serif" font-size="16" fill="#f1f5f9" text-anchor="middle" font-weight="bold">Auto-Approve</text>
  <text x="700" y="215" font-family="Arial, sans-serif" font-size="12" fill="#cbd5e1" text-anchor="middle">Publish Directly</text>
  
  <!-- Arrow to End (from auto-approve) -->
  <line x1="780" y1="200" x2="840" y2="200" stroke="#10b981" stroke-width="4" marker-end="url(#arrowHITL)"/>
  
  <!-- Arrow to End (from publish after approval) -->
  <line x1="880" y1="350" x2="940" y2="350" stroke="#10b981" stroke-width="4" marker-end="url(#arrowHITL)"/>
  <line x1="960" y1="350" x2="960" y2="200" stroke="#10b981" stroke-width="2"/>
  <line x1="960" y1="200" x2="1040" y2="200" stroke="#10b981" stroke-width="4"/>
  
  <!-- End -->
  <circle cx="1100" cy="200" r="30" fill="#10b981" opacity="0.8"/>
  <text x="1100" y="207" font-family="Arial, sans-serif" font-size="16" fill="#020617" text-anchor="middle" font-weight="bold">End</text>
  
  <!-- Components Box -->
  <rect x="120" y="440" width="960" height="180" rx="8" fill="#1e293b" opacity="0.6" stroke="#334155" stroke-width="1"/>
  <text x="600" y="470" font-family="Arial, sans-serif" font-size="20" fill="#60a5fa" text-anchor="middle" font-weight="bold">Workflow Components</text>
  
  <rect x="160" y="490" width="280" height="110" rx="4" fill="#1e293b" opacity="0.8" stroke="#475569" stroke-width="1"/>
  <text x="300" y="515" font-family="Arial, sans-serif" font-size="16" fill="#818cf8" text-anchor="middle" font-weight="bold">Agent Steps</text>
  <text x="180" y="535" font-family="Arial, sans-serif" font-size="12" fill="#cbd5e1">Execute autonomously</text>
  <text x="180" y="550" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8">Content analysis</text>
  <text x="180" y="565" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8">Auto-publishing</text>
  <text x="180" y="580" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8">Tool execution</text>
  <text x="180" y="595" font-family="Arial, sans-serif" font-size="12" fill="#64748b">No human input</text>
  
  <rect x="460" y="490" width="280" height="110" rx="4" fill="#1e293b" opacity="0.8" stroke="#475569" stroke-width="1"/>
  <text x="600" y="515" font-family="Arial, sans-serif" font-size="16" fill="#f59e0b" text-anchor="middle" font-weight="bold">Approval Steps</text>
  <text x="480" y="535" font-family="Arial, sans-serif" font-size="12" fill="#cbd5e1">Pause execution</text>
  <text x="480" y="550" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8">Request human review</text>
  <text x="480" y="565" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8">Wait for decision</text>
  <text x="480" y="580" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8">Resume after approval</text>
  <text x="480" y="595" font-family="Arial, sans-serif" font-size="12" fill="#64748b">Human judgment</text>
  
  <rect x="760" y="490" width="280" height="110" rx="4" fill="#1e293b" opacity="0.8" stroke="#475569" stroke-width="1"/>
  <text x="900" y="515" font-family="Arial, sans-serif" font-size="16" fill="#60a5fa" text-anchor="middle" font-weight="bold">Conditional Steps</text>
  <text x="780" y="535" font-family="Arial, sans-serif" font-size="12" fill="#cbd5e1">Route based on conditions</text>
  <text x="780" y="550" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8">Risk score checks</text>
  <text x="780" y="565" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8">Branch logic</text>
  <text x="780" y="580" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8">If-then-else</text>
  <text x="780" y="595" font-family="Arial, sans-serif" font-size="12" fill="#64748b">Dynamic routing</text>
</svg>
