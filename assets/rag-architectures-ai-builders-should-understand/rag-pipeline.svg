<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="520" viewBox="0 0 1200 520" role="img" aria-label="RAG pipeline diagram">
  <defs>
    <linearGradient id="panel" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#0b1220"/>
      <stop offset="1" stop-color="#111827"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="18" stdDeviation="16" flood-color="#000" flood-opacity="0.5"/>
    </filter>
    <marker id="arrow" markerWidth="6" markerHeight="6" refX="6" refY="3" orient="auto" markerUnits="userSpaceOnUse">
      <path d="M0,0 L6,3 L0,6 Z" fill="#fbbf24"/>
    </marker>
  </defs>

  <rect x="40" y="40" width="1120" height="440" rx="28" fill="url(#panel)" stroke="#334155" filter="url(#shadow)"/>

  <text x="100" y="98" fill="#e2e8f0" font-size="22" font-weight="900"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    RAG = Retrieval + Generation (with evidence)
  </text>
  <text x="100" y="128" fill="#94a3b8" font-size="14" font-weight="600"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    The model answers from retrieved context, not from memory alone.
  </text>

  <!-- Left: user query -->
  <rect x="90" y="180" width="210" height="110" rx="18" fill="#0f172a" stroke="#22d3ee" stroke-opacity="0.55"/>
  <text x="195" y="218" fill="#e2e8f0" font-size="16" font-weight="900" text-anchor="middle"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    User query
  </text>
  <text x="195" y="245" fill="#94a3b8" font-size="12" font-weight="600" text-anchor="middle"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    “How do I…?”
  </text>

  <!-- Embed -->
  <rect x="350" y="180" width="210" height="110" rx="18" fill="#0f172a" stroke="#a78bfa" stroke-opacity="0.6"/>
  <text x="455" y="218" fill="#e2e8f0" font-size="16" font-weight="900" text-anchor="middle"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    Embed / rewrite
  </text>
  <text x="455" y="245" fill="#94a3b8" font-size="12" font-weight="600" text-anchor="middle"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    vector + intent
  </text>

  <!-- Retrieve -->
  <rect x="610" y="160" width="250" height="150" rx="18" fill="#0f172a" stroke="#34d399" stroke-opacity="0.6"/>
  <text x="735" y="205" fill="#e2e8f0" font-size="16" font-weight="900" text-anchor="middle"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    Retrieval
  </text>
  <text x="735" y="230" fill="#94a3b8" font-size="12" font-weight="600" text-anchor="middle"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    vector / hybrid / graph
  </text>
  <rect x="640" y="248" width="190" height="44" rx="12" fill="#0b1220" stroke="#334155"/>
  <text x="735" y="276" fill="#fbbf24" font-size="12" font-weight="800" text-anchor="middle"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    Top‑k evidence chunks
  </text>

  <!-- LLM -->
  <rect x="910" y="180" width="210" height="110" rx="18" fill="#0f172a" stroke="#fbbf24" stroke-opacity="0.75"/>
  <text x="1015" y="218" fill="#e2e8f0" font-size="16" font-weight="900" text-anchor="middle"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    Generate answer
  </text>
  <text x="1015" y="245" fill="#94a3b8" font-size="12" font-weight="600" text-anchor="middle"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    “Use only context”
  </text>

  <!-- arrows -->
  <path d="M300 235 H340" stroke="#fbbf24" stroke-width="1.5" stroke-dasharray="1 3" stroke-dashoffset="1" stroke-linecap="round" fill="none" marker-end="url(#arrow)"/>
  <path d="M560 235 H600" stroke="#fbbf24" stroke-width="1.5" stroke-dasharray="1 3" stroke-dashoffset="1" stroke-linecap="round" fill="none" marker-end="url(#arrow)"/>
  <path d="M860 235 H900" stroke="#fbbf24" stroke-width="1.5" stroke-dasharray="1 3" stroke-dashoffset="1" stroke-linecap="round" fill="none" marker-end="url(#arrow)"/>

  <!-- Evidence store -->
  <g>
    <rect x="610" y="335" width="250" height="110" rx="18" fill="#0b1220" stroke="#22d3ee" stroke-opacity="0.25"/>
    <text x="735" y="372" fill="#e2e8f0" font-size="14" font-weight="900" text-anchor="middle"
          font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
      Data store
    </text>
    <text x="735" y="398" fill="#94a3b8" font-size="12" font-weight="600" text-anchor="middle"
          font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
      docs • tickets • logs • DB
    </text>
    <path d="M650 420 H820" stroke="#334155" stroke-width="2"/>
    <path d="M650 405 H820" stroke="#334155" stroke-width="2"/>
  </g>

  <path d="M735 310 V330" stroke="#fbbf24" stroke-width="1.5" stroke-dasharray="1 3" stroke-dashoffset="1" stroke-linecap="round" fill="none" marker-end="url(#arrow)"/>

  <!-- Output -->
  <rect x="910" y="335" width="210" height="110" rx="18" fill="#0b1220" stroke="#34d399" stroke-opacity="0.35"/>
  <text x="1015" y="372" fill="#e2e8f0" font-size="14" font-weight="900" text-anchor="middle"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    Answer + citations
  </text>
  <text x="1015" y="398" fill="#94a3b8" font-size="12" font-weight="600" text-anchor="middle"
        font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
    debuggable output
  </text>
  <path d="M1015 290 V330" stroke="#fbbf24" stroke-width="1.5" stroke-dasharray="1 3" stroke-dashoffset="1" stroke-linecap="round" fill="none" marker-end="url(#arrow)"/>
</svg>


